@use "variables";

.moon-checkbox {
  appearance: none;
  border-color: transparent;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--spacing-width-16);
  height: var(--spacing-height-16);
  box-shadow: inset 0 0 0 var(--component-checkbox-stroke-default) var(--component-checkbox-border-default);
  background-color: var(--component-checkbox-background-default);
  border-radius: var(--component-checkbox-radius);
  transition:
    background-color 150ms ease-in-out,
    opacity 150ms ease-in-out;
  cursor: pointer;

  &::after {
    content: "";
    position: absolute;
    display: block;
    inset: 0;
    transition: background-color 150ms ease-in-out;
    pointer-events: none;
    border-radius: var(--component-checkbox-radius);
    background-color: var(--color-background-transparent);
  }

  &::before {
    content: "";
    display: block;
    width: 0;
    height: 0;
    mask-size: contain;
    background-color: var(--component-checkbox-icon-checked);
  }

  &:disabled {
    cursor: not-allowed;
    opacity: var(--style-opacity-disabled);
  }

  &:checked,
  &:indeterminate {
    background-color: var(--component-checkbox-background-checked);
    box-shadow: none;
  }

  &:checked::before {
    mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNi40MDg4IDQuODEzODhDMTYuNzQxNyA1LjEzMTY2IDE2Ljc1NCA1LjY1OTE2IDE2LjQzNjIgNS45OTIwN0w3LjY4NjE3IDE1LjE1ODdDNy41MzEyNSAxNS4zMjEgNy4zMTc0MiAxNS40MTQgNy4wOTMwNiAxNS40MTY2QzYuODY4NyAxNS40MTkyIDYuNjUyNzcgMTUuMzMxMyA2LjQ5NDEyIDE1LjE3MjZMMy41Nzc0NSAxMi4yNTU5QzMuMjUyMDEgMTEuOTMwNSAzLjI1MjAxIDExLjQwMjkgMy41Nzc0NSAxMS4wNzc0QzMuOTAyODkgMTAuNzUyIDQuNDMwNTMgMTAuNzUyIDQuNzU1OTYgMTEuMDc3NEw3LjA2OTUxIDEzLjM5MUwxNS4yMzA2IDQuODQxMjhDMTUuNTQ4NCA0LjUwODM3IDE2LjA3NTkgNC40OTYxIDE2LjQwODggNC44MTM4OFoiIGZpbGw9ImN1cnJlbnRDb2xvciIvPgo8L3N2Zz4K");
    width: 100%;
    height: 100%;
  }

  &:indeterminate::before {
    mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy43MDgzIDEwLjAwMDFDMTcuNzA4MyAxMC41NzU0IDE3LjI0MTkgMTEuMDQxNyAxNi42NjY2IDExLjA0MTdMMy4zMzMyNSAxMS4wNDE3QzIuNzU3OTUgMTEuMDQxNyAyLjI5MTU5IDEwLjU3NTQgMi4yOTE1OSAxMC4wMDAxQzIuMjkxNTkgOS40MjQ3NyAyLjc1Nzk1IDguOTU4NCAzLjMzMzI1IDguOTU4NEwxNi42NjY2IDguOTU4NEMxNy4yNDE5IDguOTU4NCAxNy43MDgzIDkuNDI0NzcgMTcuNzA4MyAxMC4wMDAxWiIgZmlsbD0iY3VycmVudENvbG9yIi8+Cjwvc3ZnPgo=");
    width: 100%;
    height: 100%;
  }

  &:hover::after {
    background-color: var(--color-background-hover);
  }
}

.moon-checkbox-wrapper {
  display: flex;
  gap: var(--spacing-space-8);
  align-items: center;

  :where(label) {
    font: var(--font-weight-medium) var(--style-text-md-font-size) / var(--style-text-md-line-height)
      var(--font-default);
    color: var(--color-text-primary);
    cursor: pointer;
  }

  &:has(:disabled) label {
    cursor: not-allowed;
    opacity: var(--style-opacity-disabled);
  }
}
